(this.webpackJsonpwss=this.webpackJsonpwss||[]).push([[0],{31:function(e,t){},69:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t),a.d(t,"WebSocket",(function(){return T}));var n=a(12),r=a(3),s=a.n(r),c=a(55),o=a(56),i=a.n(o),d=a(0);function l(e){return Object(d.jsxs)("div",{className:"statistic",children:[Object(d.jsx)("div",{className:"statistic__header",children:Object.keys(e.header).map((function(t,a){return Object(d.jsx)("div",{className:"statistic__header-item",children:e.header[t]},a)}))}),Object(d.jsx)("div",{className:"statistic__body",children:e.body?Object.keys(e.body).map((function(t,a){return Object(d.jsx)("div",{className:"statistic__body-item",children:e.body[t]},a)})):""})]})}var u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e6,n=e.mode.map.has(t)?e.mode.map.get(t):0;return++n>e.mode.max&&(e.mode.max=n,e.mode.value=t),e.mode.map.set(t,n),e.mode.map.size===a&&e.mode.map.clear(),{key:e.mode.max,value:e.mode.value}},m=function(e,t){return e.sum=e.sum+t,e.mean=e.sum/e.count},b=function(e,t){return e.lost=0===e.id?0:e.lost+t-(e.id+1),e.id=t,e.lost},p=function(e,t){var a=e.sum/e.count/e.count;return t<e.median?e.median-=a:e.median+=a,e.median},j=function(e,t){return e.sum_x2=e.sum_x2+Math.pow(t,2),e.mean_x2=e.sum_x2/e.count,e.stdDev=Math.sqrt(e.mean_x2-Math.pow(e.mean,2)),e.stdDev},f={SOCKET_URL:"wss://trade.trademux.net:8800/?password=1234",STATIC_OPTIONS:{share:!0,shouldReconnect:function(){return!0}},STATISTIC:{mode:"\u041c\u043e\u0434\u0430",mean:"c\u0440\u0435\u0434\u043d\u0435\u0435",lost:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043d\u044b\u0435",median:"\u041c\u0435\u0434\u0438\u0430\u043d\u0430",stdDev:"\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435",performance:"\u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0441\u0447\u0451\u0442\u043e\u0432 (mc)"},BUTTON:{connection:"connection",statistic:"statistic"},aside:{button:["odd rows of data","even rows of data","all data"]},table:{header:["data","Summary 1","Summary 2","Summary 3","Summary 4","Summary 5"],body:[{assetId:1,timestamp:999888877777,description:"description",name:"Name",proofs:"Proofs",sender:"sender"},{assetId:2,timestamp:21312312,description:"description ccvvvbn",name:"Name",proofs:"Proofs",sender:"sender"},{assetId:3,timestamp:21312312,description:"description dssss",name:"Name",proofs:"Proofs",sender:"sender"},{assetId:41112222,timestamp:222222222,description:"description rdaasfu",name:"Name",proofs:"Proofs",sender:"sender"},{assetId:5444222,timestamp:21312312,description:"description pppzzzzz",name:"Name",proofs:"22",sender:"sender"},{assetId:"asfasfeqefq",timestamp:21312312,description:"description",name:"Name",proofs:"Proofs",sender:"sender"}],footer:["assetId","timestamp","description","name","proofs","sender"]}},_=(a(69),a(36)),O=a(13),v=a(18),h=a.n(v),x=a(19),y=Object.prototype.hasOwnProperty,S=Object.prototype.toString;var N=function(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e))return e instanceof Object?0===Object.keys(e).length:0===e.length;if(e instanceof Error)return""===e.message;if(e.toString==S)switch(e.toString()){case"[object File]":case"[object Map]":case"[object Set]":return 0===e.size;case"[object Object]":for(var t in e)if(y.call(e,t))return!1;return!0}return!1};function g(e){var t=Object(r.useRef)(null),a=Object(r.useRef)(null),c=Object(r.useRef)(null),o=Object(r.useRef)(null),i=Object(r.useState)([]),l=Object(n.a)(i,2),u=l[0],m=l[1];Object(r.useEffect)((function(){window.sessionStorage.clear(),f.table.body.forEach((function(e){var t=x.privateKey(x.randomSeed());window.sessionStorage.setItem(t,JSON.stringify(e))})),m(Object.values(window.sessionStorage).map((function(e){return JSON.parse(e)})))}),[]);var b=function(){var e,t=o.current.querySelectorAll("input"),a=Object(O.a)(t);try{for(a.s();!(e=a.n()).done;){e.value.value=""}}catch(n){a.e(n)}finally{a.f()}},p=function(e){var t,n=a.current.querySelectorAll("input"),r=Object.values(window.sessionStorage).map((function(e){return JSON.parse(e)})),s=Object(O.a)(n);try{var c=function(){var e=t.value;N(e.value)||(r=r.filter((function(t){return-1!==t[e.name].toString().indexOf(e.value.toString())})))};for(s.s();!(t=s.n()).done;)c()}catch(o){s.e(o)}finally{s.f()}m(r)},j=function(e){var t="auction-data__active";e.classList.add(t),setTimeout((function(){e.classList.remove(t)}),140)},v=function(e,a){for(var n=t.current.querySelectorAll(".auction-data__table_body_tr"),r=0;r<n.length;r++)if(r%2){var s,c=Object(O.a)(n[r].querySelectorAll(".auction-data__table_body_td"));try{for(c.s();!(s=c.n()).done;){s.value.style.background=e}}catch(d){c.e(d)}finally{c.f()}}else{var o,i=Object(O.a)(n[r].querySelectorAll(".auction-data__table_body_td"));try{for(i.s();!(o=i.n()).done;){o.value.style.background=a}}catch(d){i.e(d)}finally{i.f()}}},y=function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.currentTarget.name,e.next="even"===e.t0?3:"odd"===e.t0?5:"all"===e.t0?7:9;break;case 3:return v("#859d85","white"),e.abrupt("break",11);case 5:return v("white","#859d85"),e.abrupt("break",11);case 7:return v("white","white"),e.abrupt("break",11);case 9:return console.log("default router",t.currentTarget.name),e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(_.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.target.classList).contains("auction-data__table_body_tr")||a.contains("auction-data__table_body")||a.contains("auction-data__table")||a.contains("auction-data")){e.next=6;break}return n=t.target.classList.contains("auction-data__table_body_td")?t.target:t.target.parentNode,j(n),e.next=6,navigator.clipboard.writeText(n.querySelector("span").textContent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"auction-data",children:[Object(d.jsx)("dialog",{ref:c,children:Object(d.jsxs)("div",{method:"auction-data__dialog",children:[Object(d.jsxs)("section",{ref:o,className:"auction-data__dialog_section",children:[Object(d.jsx)("label",{htmlFor:"modal_assetId",children:"assetId"}),Object(d.jsx)("input",{name:"assetId",id:"modal_assetId",type:"text"}),Object(d.jsx)("label",{htmlFor:"modal_timestamp",children:"timestamp"}),Object(d.jsx)("input",{name:"timestamp",id:"modal_timestamp",type:"text"}),Object(d.jsx)("label",{htmlFor:"modal_description",children:"description"}),Object(d.jsx)("input",{name:"description",id:"modal_description",type:"text"}),Object(d.jsx)("label",{htmlFor:"modal_name",children:"name"}),Object(d.jsx)("input",{name:"name",id:"modal_name",type:"text"}),Object(d.jsx)("label",{htmlFor:"modal_proofs",children:"proofs"}),Object(d.jsx)("input",{name:"proofs",id:"modal_proofs",type:"text"}),Object(d.jsx)("label",{htmlFor:"modal_sender",children:"sender"}),Object(d.jsx)("input",{name:"sender",id:"modal_sender",type:"text"})]}),Object(d.jsxs)("menu",{className:"auction-data__dialog_menu",children:[Object(d.jsx)("button",{onClick:function(e){b(),c.current.close()},className:"auction-data__dialog_menu_close",type:"reset",children:"Cancel"}),Object(d.jsx)("button",{onClick:function(e){var t,a=o.current.querySelectorAll("input"),n=x.privateKey(x.randomSeed()),r={},s=Object(O.a)(a);try{for(s.s();!(t=s.n()).done;){var i=t.value;r[i.name]=i.value}}catch(d){s.e(d)}finally{s.f()}window.sessionStorage.setItem(n,JSON.stringify(r)),b(),c.current.close(),m(Object.values(window.sessionStorage).map((function(e){return JSON.parse(e)})))},className:"auction-data__dialog_menu_save",type:"button",children:"Save"})]})]})}),Object(d.jsx)("div",{className:"auction-data__header_date",children:(new Date).toLocaleString("en-US",{timeZone:"Europe/Moscow"})}),Object(d.jsx)("input",{onClick:function(e){c.current.showModal()},type:"button",value:"Create New",className:"auction-data__header_button"}),Object(d.jsx)("div",{className:"auction-data__nav",children:f.aside.button.map((function(e,t){return Object(d.jsx)(s.a.Fragment,{children:Object(d.jsx)("input",{type:"button",value:e,name:e.split(" ")[0],className:"auction-data__aside_button",onClick:y})},t)}))}),Object(d.jsxs)("div",{className:"auction-data__table",children:[Object(d.jsx)("div",{className:"auction-data__table_header",children:f.table.header.map((function(e,t){return Object(d.jsx)(s.a.Fragment,{children:Object(d.jsx)("div",{className:"auction-data__table_header_td",children:e})},t)}))}),Object(d.jsx)("div",{className:"auction-data__table_body",ref:t,children:u.map((function(e,t){return Object(d.jsx)(s.a.Fragment,{children:Object(d.jsx)("div",{className:"auction-data__table_body_tr",children:Object.keys(e).map((function(t,a){return Object(d.jsx)(s.a.Fragment,{children:Object(d.jsx)("div",{className:"auction-data__table_body_td ".concat(t),children:Object(d.jsx)("span",{onClick:S,children:e[t]})})},a)}))})},t)}))}),Object(d.jsx)("div",{ref:a,className:"auction-data__table_footer",children:f.table.footer.map((function(e,t){return Object(d.jsx)(s.a.Fragment,{children:Object(d.jsx)("input",{onChange:p,className:"auction-data__table_footer_td",name:e})},t)}))})]})]})}var w=function(e){e.target.classList.add("active"),setTimeout((function(){e.target.classList.remove("active")}),1500)},T=function(){var e=Object(r.useState)(null),t=Object(n.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(null),o=Object(n.a)(c,2),_=o[0],O=o[1],v=Object(r.useState)({id:0,count:0,mean:0,stdDev:0,sum:0,sum_x2:0,mean_x2:0,median:0,lost:0,mode:{map:new Map,max:0,value:0}}),h=Object(n.a)(v,2),x=h[0],y=h[1],S=i()(a,f.STATIC_OPTIONS),N=S.lastMessage,T=S.readyState;Object(r.useEffect)((function(){N&&y((function(e){e.count++;var t=JSON.parse(N.data);return b(e,t.id),m(e,t.value),p(e,t.value),j(e,t.value),u(e,t.value),e}))}),[N]);var k={0:"CONNECTING",1:"OPEN",2:"CLOSING",3:"CLOSED"}[T];return Object(d.jsxs)("div",{className:"-app",children:[Object(d.jsx)(g,{}),Object(d.jsx)("hr",{}),Object(d.jsxs)("h4",{className:"-app__title",children:["ReadyState: ",k]}),Object(d.jsxs)("div",{className:"-app__control",children:[Object(d.jsx)("button",{className:"-app__control-button",onClick:function(e){w(e),s(f.SOCKET_URL)},disabled:a===f.SOCKET_URL,children:f.BUTTON.connection}),Object(d.jsx)("button",{className:"-app__control-button",onClick:function(e){w(e),function(){var e=performance.now(),t={mode:x.mode.value,mean:x.mean,lost:x.lost,median:x.median,stdDev:x.stdDev,performance:0},a=performance.now();t.performance=(a-e).toFixed(3),O(t)}()},children:f.BUTTON.statistic})]}),Object(d.jsx)("div",{className:"-app__connection",children:Object(d.jsx)(l,{header:f.STATISTIC,body:_})})]})};Object(c.render)(Object(d.jsx)(T,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.36d96d28.chunk.js.map